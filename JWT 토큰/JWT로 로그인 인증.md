# [로그인 페이지]

## 1. 이메일과 비밀번호 입력 

## 2. DB 데이터와 대조 

## 3-1. (DB에 저장된 사용자 정보와 입력받은 정보가 일치할 경우) 로그인 성공 시
    a. JWT가 쿠키에 담겨서 브라우저에 저장 
        - access_token을 사용자 컴퓨터(클라이언트)에 전송한다?
        - JWT 생성 후 res.cookie()를 통해 브라우저에 쿠키를 저장
    b. 메인 페이지로 이동 
    c. 로그인 성공 후 다음부터는 access_token을 첨부해서 req를 서버에 전송한다 (자동로그인 완성)

## 3-2. 로그인 실패 
    a. 실패지 뭐... 다시 로그인 (redirect?)

## 4. 로그아웃 
    - 쿠키 삭제, 로그인 풀림 


# [사용자 요청 시 JWT 인증을 통해 로그인 정보 확인]
> 브라우저 쿠키에 저장된 JWT를 이용해 인증 진행 

1. JWT의 header와 payload 부분을 가져와서 다시 signature 생성
2. 쿠키에 저장되어 있던 signature과 새롭게 생성한 signature를 비교하여 같은 값이라면 인증 완료 


# [JWT 로그인 방식]

1. 브라우저에서 로그인 요청
2. 서버에서 JWT 발급
3. 발급한 JWT를 브라우저로 보냄
4. 이후 요청시 발급받은 JWT를 함께 보낸다
5. 서버에서 JWT에 포함된 signature를 확인한 후 user정보를 request에 담는다
6. 서버에서 브라우저의 요청을 처리한다
7. 브라우저로 response를 보낸다 
